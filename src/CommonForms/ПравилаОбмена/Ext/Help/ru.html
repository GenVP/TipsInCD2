<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"><html><head><meta content="text/html; charset=utf-8" http-equiv="Content-Type"></meta><link rel="stylesheet" type="text/css" href="v8help://service_book/service_style"></link><meta name="GENERATOR" content="MSHTML 9.00.8112.16457"></meta></head><body>
<h1>Порядок настройки правил обмена</h1>
<h2>Используемые сокращения</h2>
<p>ПКО - <a href="Catalog.ПравилаКонвертацииОбъектов/Help">правило конвертации объекта</a><br>ПКС - <a href="Catalog.ПравилаКонвертацииСвойств/Help">правило конвертации свойства</a><br>ПКЗ - <a href="Catalog.ПравилаКонвертацииЗначений/Help">правило конвертации значения</a><br>ПВД - <a href="Catalog.ПравилаВыгрузкиДанных/Help">правило выгрузки данных</a><br>ПОД - <a href="Catalog.ПравилаОчисткиДанных/Help">правило очистки данных</a></p>
<h2>Загрузка структуры метаданных</h2>
<p class="NormalHeading">Перед началом настройки правил обмена необходимо загрузить структуры метаданных конфигураций источника (поставщика данных) и приемника (получателя данных). Загрузка структуры метаданных конфигураций осуществляется из файлов в формате XML, выгруженных в режиме "1С:Предприятие" из соответствующих конфигураций с помощью внешних обработок MD77Exp.ert (для конфигурации 1С:Предприятие версии 7.7) и MD80Exp.epf (для конфигурации 1С:Предприятие версии 8.0).<br><br>После того как конфигурации загружены их структуру можно просматривать в удобной форме описания конфигурации (форма <a href="Catalog.Конфигурации/Help">"Конфигурация"</a> вызывается из основной панели конфигурации).</p>
<h2>Создание конвертации</h2>
<p class="NormalHeading"><br>Необходимо создать конвертацию, т.е. установить соответствие конфигурации источника и приемника. Для этого необходимо создать новый элемент справочника <a href="Catalog.Конвертации/Help">"Конвертации"</a>, указать конфигурации источник и приемник, а также наименование конвертации для удобства дальнейшего использования.</p>
<p class="NormalHeading">Теперь можно настраивать правила обмена. Для этого необходимо открыть форму <strong class="ControlElement">"Настройка правил обмена"</strong> из основной панели конфигурации и выбрать одну из созданных ранее конвертаций. Настройка правил обмена будет производиться для выбранной конвертации.<br></p>
<h2>Настройка <a href="Catalog.ПравилаКонвертацииОбъектов/Help">правил конвертации объектов</a><br></h2>
<p class="NormalHeading">Необходимо настроить правила конвертации объектов (далее ПКО). Каждое правило конвертации устанавливает соответствие между объектами определенного типа конфигурации источника и приемника или, в случае отсутствия указанного объекта-источника, описывает способ формирования объекта приемника. Настройка ПКО производится на закладке <strong class="ControlElement">"Правила конвертации объектов"</strong> верхней панели формы.</p>
<p class="NormalHeading">Возможна настройка ПКО вручную или автоматическая синхронизация объектов конфигурации источника и приемника.</p>
<h3>Ручная настройка ПКО</h3>
<p class="NormalHeading">В этом режиме необходимо добавить новое ПКО и указать объект источник (необязательный) и приемник (обязательный). При записи для ПКО будет сформировано имя и наименование. Имя ПКО должно быть уникальным, так как является идентификатором правила и используется в обработчиках событий конвертации.</p>
<h3>Автоматическая синхронизацию объектов</h3>
<p class="NormalHeading">Данный режим вызывается из меню <strong class="ControlElement">"Обработки"</strong> командной панели ПКО и называется <a href="DataProcessor.АвтонастройкаПравилКонвертацииОбъектов/Help">"Синхронизация объектов"</a>.<br></p>
<h2>Настройка <a href="Catalog.ПравилаКонвертацииСвойств/Help">правил конвертации свойств</a><br></h2>
<p class="NormalHeading">Необходимо настроить правила конвертации свойств (далее ПКС). Настройка ПКС производится на закладке <strong class="ControlElement">"Конвертация свойств"</strong> нижней панели формы.</p>
<p class="NormalHeading">Возможна настройка ПКС вручную или автоматическая синхронизация свойств объекта источника и приемника.</p>
<h3>Ручная настройка ПКС</h3>
<p class="NormalHeading">В этом режиме необходимо добавить новое ПКС и указать свойство источник (необязательный) и приемник (обязательный). При записи для ПКС будет сформировано наименование.</p>
<h3>Автоматическая синхронизация свойств объектов</h3>
<p class="NormalHeading">Данный режим вызывается из меню <strong class="ControlElement">"Обработки"</strong> командной панели ПКО  для выбранного ПКО и называется <a href="DataProcessor.АвтонастройкаПравилКонвертацииСвойств/Help">"Синхронизация свойств объектов"</a> (сочетание клавиш <strong class="ShortCut">Alt+1</strong>).</p>
<h2>Настройка <a href="Catalog.ПравилаКонвертацииЗначений/Help">правил конвертации значений</a></h2>
<p class="NormalHeading"><br>Необходимо настроить правила конвертации значений (далее ПКЗ). ПКЗ используются для синхронизации значений перечислений, предопределенных бухгалтерских счетов,  видов характеристик и видов расчетов. Настройка ПКЗ производится на закладке "Конвертация значений" нижней панели формы.</p>
<p class="NormalHeading">Возможна настройка ПКЗ вручную или автоматическая синхронизация значений объекта источника и приемника.</p>
<h3>Ручная настройка ПКЗ</h3>
<p class="NormalHeading">В этом режиме необходимо добавить новое ПКЗ и указать значение источник (необязательный) и приемник (обязательный). При записи для ПКЗ будет сформировано наименование.</p>
<h3>Автоматическую синхронизация значений объектов</h3>
<p class="NormalHeading">Данный режим вызывается из меню <strong class="ControlElement">"Обработки"</strong> командной панели ПКО  для выбранного ПКО и называется <a href="DataProcessor.АвтонастройкаПравилКонвертацииЗначений/Help">"Синхронизация значений объектов"</a> (сочетание клавиш <strong class="ShortCut">Alt+2</strong>).</p>
<h2>Простановка синхронизирующих свойств</h2>
<p class="NormalHeading"><br>Необходимо выполнить простановку синхронизирующих свойств. Для объектов типа справочник или документ при загрузке осуществляется поиск в информационной базе приемнике по свойствам для которых в ПКС установлен флаг <strong class="ControlElement">"Поиск"</strong>. Если объект с указанными значениями синхронизирующих свойств найден в информационной базе, то он либо оставляется без изменений либо замещается в зависимости от настройки в ПКО флага <strong class="ControlElement">"Не замещать"</strong>. То есть для синхронизирующего свойства объекта необходимо установить флаг <strong class="ControlElement">"Поиск"</strong> для тех ПКС, по которым будут синхронизироваться объекты при загрузке в конфигурацию приемник.<br>Простановка синхронизирующих свойствой выполняется вручную установкой флага "Поиск" для определенных ПКС или автоматической синхронизацией.</p>
<h3>Автоматическая простановка синхронизирующих свойств</h3>
<p class="NormalHeading">Для этого необходимо перейти на закладку <strong class="ControlElement">"Синхронизация"</strong> верхней панели формы и вызвать действие <strong class="ControlElement">"Обновить"</strong> панели синхронизации. Таблица будет заполнена существующими ПКО с указанием текущего и предлагаемого способов синхронизации, а так же различиями между ними. Для ПКО с найденными различиями будет установлен флаг простановки синхронизирующих свойств. По окончании автоматической синхронизации возможно установить флажки простановки синхронизирующих свойств только для необходимых ПКО. Вызов действия "Записать" панели синхронизации проставляет флаг <strong class="ControlElement">"Поиск"</strong> для различий между текущими и предлагаемыми способами синхронизации.</p>
<h2>Настройка <a href="Catalog.ПравилаВыгрузкиДанных/Help">правил выгрузки данных</a></h2>
<p class="NormalHeading"><br>Необходимо настроить правила выгрузки данных (далее ПВД). ПВД описывают способ сбора данных из информационной базы конфигурации источника и вызывают для этого ПКО. По умолчанию ПВД вызывают одно ПКО в случае стандартной выборки. Если для ПВД способ выгрузки установлен <strong class="ControlElement">"Произвольный алгоритм"</strong>, тогда в алгоритме могут быть ссылки на различные ПКО. Настройка ПВД производится на закладке <strong class="ControlElement">"Правила выгрузки данных"</strong> верхней панели формы.</p>
<p class="NormalHeading">Возможна настройка ПВД вручную или автоматическое создание.</p>
<h3>Ручная настройка ПВД</h3>
<p>В этом режиме необходимо добавить новое ПВД и указать объект выборки конфигурации источника и соответствующее ему ПКО. При записи для ПВД будет сформировано наименование. ПВД необходимо создавать для тех объектов конфигурации источника, данные которых должны выгружаться.</p>
<h3>Автоматическое создание</h3>
<p class="NormalHeading">Данный режим вызывается из меню <strong class="ControlElement">"Обработки"</strong> командной панели ПКО  для выбранного ПКО и называется <a href="DataProcessor.СозданиеПравилВыгрузкиДанных/Help">"Создание правил выгрузки данных"</a>.</p>
<h2>Сохранение правил конвертации</h2>
<p class="NormalHeading"><br>Необходимо сохранить настроенные правила в XML файл, необходимый для дальнейшего использования при выгрузке данных из конфигурации источника. Для этого необходимо вызвать действие <strong class="ControlElement">"Сохранить правила"</strong> из основной панели формы <strong class="ControlElement">"Правила обмена"</strong>. В открывшемся диалоге необходимо указать имя файла выгрузки правил обмена, выбрать конвертацию и выполнить сохранение.</p>
<h2>Отладка обработчиков</h2>
<p>Данный режим вызывается из меню <strong>Отладка обработчиков</strong> и позволяет использовать все возможности конфигуратора для отладки и написания кода обработчиков событий. Содержит следующие действия:</p>
<p>"Сформировать модуль обработчиков выгрузки..." - позволяет сформировать текст модуля для внешней обработки для отладки выгрузки.<br>"Сформировать модуль обработчиков загрузки..." - позволяет сформировать текст модуля для внешней обработки для отладки загрузки.<br>"Загрузить модуль обработчиков..." - вызывает форму для загрузки модуля обработки, вносит в код обработчиков изменения, сделанные в режиме конфигуратора.<br>"Настройки…" - открывает настойки текущего пользователя и позволяет изменить режим выгрузки обработчиков.</p>
<h2>Выгрузка данных (1С:Предприятие 8.0)</h2>
<p class="NormalHeading">Выгрузка данных из конфигурации источника осуществляется в режиме "1С:Предприятие" с помощью внешней обработки <a>Универсальный обмен данными в формате XML (V8Exchan.epf)</a>  и с использованием ранее полученного файла правил обмена.</p>
<h2>Выгрузка данных (1С:Предприятие 7.7)</h2>
<p class="NormalHeading">Выгрузка данных из конфигурации источника осуществляется в режиме "1С:Предприятие" с помощью внешней обработки "Универсальная выгрузка данных в формате XML (V77Exp.ert)" и с использованием ранее полученных файла правил обмена и модуля обработки.</p>
<h2>Загрузка  данных</h2>
<p class="NormalHeading"><br>Загрузка данных в конфигурацию приемник осуществляется в режиме "1С:Предприятие" с помощью внешней обработки <a>Универсальный обмен данными в формате XML (V8Exchan.epf)</a> и с использованием ранее полученного файла выгрузки данных.</p>
<h2>Сравнение правил обмена</h2>
<p class="NormalHeading">Сравнение правил обмена осуществляется в режиме "1С:Предприятие" с помощью обработки <a href="DataProcessor.СравнениеИОбъединениеПравилОбмена.Form.Форма/Help">"Сравнение и объединение правил обмена".</a> Обработка позволяет выявить различия в правилах обмена и объединять их.<br> </p></body></html>