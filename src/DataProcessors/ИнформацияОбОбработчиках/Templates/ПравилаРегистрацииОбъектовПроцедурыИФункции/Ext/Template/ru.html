<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"><html xmlns:o="urn:schemas-microsoft-com:office:office"><head><meta content="text/html; charset=utf-8" http-equiv="Content-Type"></meta><link rel="stylesheet" type="text/css" href="__STYLE__"></link><meta name="GENERATOR" content="MSHTML 8.00.7600.16700"></meta><style>A:link {
	COLOR: #0000ff; FONT-WEIGHT: bold; TEXT-DECORATION: underline
}
A:visited {
	COLOR: #0000ff; FONT-WEIGHT: bold; TEXT-DECORATION: underline
}
A:hover {
	TEXT-DECORATION: underline
}
H1 {
	TEXT-ALIGN: left; FONT-FAMILY: Ariall, Tahoma; COLOR: #003366; FONT-SIZE: 18pt; FONT-WEIGHT: bold
}
H2 {
	TEXT-ALIGN: left; FONT-FAMILY: Arial, Tahoma; FONT-SIZE: 14pt; FONT-WEIGHT: bold
}
H3 {
	TEXT-ALIGN: left; FONT-FAMILY: Arial, Tahoma; FONT-SIZE: 12pt; FONT-WEIGHT: bold
}
TABLE {
	FONT-SIZE: x-small
}
TABLE .Programtext {
	PADDING-BOTTOM: 10px; BACKGROUND-COLOR: #f0f0f0; PADDING-LEFT: 10px; PADDING-RIGHT: 10px; COLOR: #0000ff; PADDING-TOP: 10px
}
BODY {
	FONT-FAMILY: Verdana; FONT-SIZE: x-small
}
.withBorder {
	TEXT-ALIGN: left; FONT-FAMILY: Verdana; FONT-SIZE: x-small; BORDER-TOP: #ffd700 1px solid; BORDER-RIGHT: #ffd700 1px solid
}
.withBorder TD {
	BORDER-BOTTOM: #ffd700 1px solid; BORDER-LEFT: #ffd700 1px solid
}
.withBorder TH {
	BORDER-BOTTOM: #ffd700 1px solid; BORDER-LEFT: #ffd700 1px solid; BACKGROUND-COLOR: #ffffee
}
UL.TOC LI {
	LIST-STYLE-TYPE: none
}
.Programtext {
	FONT-FAMILY: Courier; COLOR: #000080; FONT-SIZE: 10pt
}
PRE.Query {
	FONT-FAMILY: Courier; COLOR: #000080; FONT-SIZE: 10pt
}
PRE.xml {
	FONT-FAMILY: Courier; COLOR: #000080; FONT-SIZE: 10pt
}
PRE.vbcode {
	FONT-FAMILY: Courier; COLOR: #000080; FONT-SIZE: 10pt
}
PRE {
	FONT-SIZE: 10pt
}
.Marker {
	BACKGROUND-COLOR: #ffff00
}
.heading {
	BORDER-BOTTOM: #ffd700 1px solid; BORDER-LEFT: #ffd700 1px solid; BACKGROUND-COLOR: #ffffee; FONT-WEIGHT: bold
}
.tip {
	PADDING-BOTTOM: 15px; BORDER-RIGHT-WIDTH: 0px; BACKGROUND-COLOR: #eeffee; PADDING-LEFT: 15px; WIDTH: 95%; PADDING-RIGHT: 15px; BORDER-TOP-WIDTH: 0px; BORDER-BOTTOM-WIDTH: 0px; BORDER-LEFT-WIDTH: 0px; PADDING-TOP: 15px
}
.tip TD {
	PADDING-BOTTOM: 15px; BORDER-RIGHT-WIDTH: 0px; BACKGROUND-COLOR: #eeffee; PADDING-LEFT: 15px; WIDTH: 95%; PADDING-RIGHT: 15px; BORDER-TOP-WIDTH: 0px; BORDER-BOTTOM-WIDTH: 0px; BORDER-LEFT-WIDTH: 0px; PADDING-TOP: 15px
}
.important {
	PADDING-BOTTOM: 15px; BORDER-RIGHT-WIDTH: 0px; BACKGROUND-COLOR: #ffeeee; PADDING-LEFT: 15px; WIDTH: 95%; PADDING-RIGHT: 15px; BORDER-TOP-WIDTH: 0px; BORDER-BOTTOM-WIDTH: 0px; BORDER-LEFT-WIDTH: 0px; PADDING-TOP: 15px
}
.important TD {
	PADDING-BOTTOM: 15px; BORDER-RIGHT-WIDTH: 0px; BACKGROUND-COLOR: #ffeeee; PADDING-LEFT: 15px; WIDTH: 95%; PADDING-RIGHT: 15px; BORDER-TOP-WIDTH: 0px; BORDER-BOTTOM-WIDTH: 0px; BORDER-LEFT-WIDTH: 0px; PADDING-TOP: 15px
}
.note {
	PADDING-BOTTOM: 15px; BORDER-RIGHT-WIDTH: 0px; BACKGROUND-COLOR: #eeeeff; PADDING-LEFT: 15px; WIDTH: 95%; PADDING-RIGHT: 15px; BORDER-TOP-WIDTH: 0px; BORDER-BOTTOM-WIDTH: 0px; BORDER-LEFT-WIDTH: 0px; PADDING-TOP: 15px
}
.note TD {
	PADDING-BOTTOM: 15px; BORDER-RIGHT-WIDTH: 0px; BACKGROUND-COLOR: #eeeeff; PADDING-LEFT: 15px; WIDTH: 95%; PADDING-RIGHT: 15px; BORDER-TOP-WIDTH: 0px; BORDER-BOTTOM-WIDTH: 0px; BORDER-LEFT-WIDTH: 0px; PADDING-TOP: 15px
}
.k {
	COLOR: red
}
.c {
	COLOR: green
}
.s {
	COLOR: black
}
.n {
	COLOR: black
}
.p {
	COLOR: brown
}
OL LI {
	MARGIN-BOTTOM: 12pt
}
</style></head><body>
<h1><br>Процедуры и функции обработчиков событий правил регистрации объектов</h1>
<h3><font color="#536ac2"></font> </h3>
<h3><font color="#536ac2">Процедура ВыполнитьПравилаРегистрацииДляОбъекта(Объект, ИмяПланаОбмена, Отправитель)</font></h3>
<p><font color="#000000"><strong>Описание:<br></strong>Определяет массив узлов-получателей для объекта при заданном плане обмена и выполняет регистрацию объекта на узлах кроме узла отравителя.</font></p>
<p><strong>Примечание:<br></strong>При использовании метода следует иметь в виду, что обработчики ПРО могут выполняться как в контексте записи объекта, так и в контексте выгрузки объекта (см. параметр обработчика Выгрузка). Не рекомендуется использовать данный метод в контексте выгрузки объекта, когда параметр обработчика Выгрузка = Истина.</p>
<p><font color="#000000"><strong>Параметры:<br></strong>Объект (обязательный) – объект, для которого необходимо выполнить правила регистрации и выполнить регистрацию на узлах<br>ИмяПланаОбмена (обязательный) – Строка – имя плана обмена как оно задано в конфигураторе<br>Отправитель (необязательный) – ПланОбменаСсылка – узел плана обмена от которого принимается сообщение обмена при загрузке данных – если задан, то регистрация объекта не этом узле выполнятся не будет</font></p>
<h3><font color="#536ac2">Процедура ДополнитьПолучателей(Объект, Узлы)</font> </h3>
<p><strong>Описание:<br></strong>Дополняет список узлов-получателей объекта переданными значениями узлов.</p>
<p><strong>Параметры:<br></strong>Объект (обязательный) – объект, для которого выполняется правило регистрации<br>Узлы (обязательный) – Массив – узлы плана обмена, которые необходимо добавить в список узлов-получателей объекта<br></p>
<h3><font color="#536ac2">Процедура СократитьПолучателей(Объект, Узлы)</font></h3>
<p><strong>Описание:<br></strong>Вычитает из списка узлов-получателей объекта переданные значения узлов.</p>
<p><strong>Параметры:<br></strong>Объект (обязательный) – объект, для которого выполняется правило регистрации<br>Узлы (обязательный) – Массив – узлы плана обмена, которые необходимо вычесть из списка узлов-получателей объекта</p>
<h3><font color="#536ac2">Функция ОпределитьПолучателей(Объект, ИмяПланаОбмена)</font></h3>
<p><strong>Описание:<br></strong>Определяет список узлов-получателей в соответствии с правилами регистрации для плана обмена</p>
<p><strong>Параметры:<br></strong>Объект (обязательный) – объект, для которого требуется определить список узлов-получателей.<br>ИмяПланаОбмена (обязательный) – Строка – имя плана обмена, как оно задано в конфигураторе, список узлов для которого необходимо получить.</p>
<p><strong>Возвращаемое значение:</strong> <br>Тип: Массив. Список узлов-получателей в соответствии с правилами регистрации для плана обмена.</p>
<h3><font color="#536ac2">Функция СократитьМассив(Массив, МассивВычитания)</font></h3>
<p><strong>Описание:<br></strong>Вычитает один массив элементов из другого массива. Возвращает результат вычитания.</p>
<p><strong>Параметры:<br></strong>Массив (обязательный) - массив элементов, из которого необходимо выполнить вычитание<br>МассивВычитания (обязательный) - массив элементов, который будет вычитаться</p>
<p><strong>Возвращаемое значение: <br></strong>Тип: Массив. Результат вычитания двух массивов.</p>
<h3><font color="#536ac2">Функция АвтоРегистрацияРазрешена(ОбъектМетаданных, ИмяПланаОбмена) </font></h3>
<p><strong>Описание:<br></strong>Определяет признак авторегистрации объекта метаданных в составе плана обмена.</p>
<p><strong>Параметры:<br></strong>ОбъектМетаданных (обязательный) – объект метаданных, для которого требуется получить признак авторегистрации<br>ИмяПланаОбмена (обязательный) – Строка – имя плана обмена, как оно задано в конфигураторе, в состав которого входит объект метаданных</p>
<p><strong>Возвращаемое значение: <br></strong>Тип: Булево. Истина – объект метаданных имеет признак авторегистрации Разрешена в составе плана обмена; Ложь – объект метаданных имеет признак авторегистрации Запрещена в составе плана обмена или объект метаданных не входит в состав плана обмена.<br></p>
<h3><font color="#536ac2">Функция ВсеУзлыПланаОбмена(ИмяПланаОбмена)</font></h3>
<p><strong>Описание:<br></strong>Возвращает список всех узлов заданного плана обмена кроме предопределенного узла.</p>
<p><strong>Параметры:<br></strong>ИмяПланаОбмена (обязательный) – Строка – имя плана обмена, как оно задано в конфигураторе, список узлов для которого необходимо получить.</p>
<p><strong>Возвращаемое значение: <br></strong>Тип: Массив. Список всех узлов заданного плана обмена.</p></body></html>