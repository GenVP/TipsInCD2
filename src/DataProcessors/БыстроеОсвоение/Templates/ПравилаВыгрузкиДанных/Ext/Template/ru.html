<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"><html><head><meta content="text/html; charset=utf-8" http-equiv="Content-Type"></meta><link rel="stylesheet" type="text/css" href="__STYLE__"></link><meta name="GENERATOR" content="MSHTML 9.00.8112.16476"></meta><style>A:link {
	COLOR: #0000ff; FONT-WEIGHT: bold; TEXT-DECORATION: underline
}
A:visited {
	COLOR: #0000ff; FONT-WEIGHT: bold; TEXT-DECORATION: underline
}
A:hover {
	TEXT-DECORATION: underline
}
H1 {
	TEXT-ALIGN: left; FONT-FAMILY: Ariall, Tahoma; COLOR: #003366; FONT-SIZE: 18pt; FONT-WEIGHT: bold
}
H2 {
	TEXT-ALIGN: left; FONT-FAMILY: Arial, Tahoma; FONT-SIZE: 14pt; FONT-WEIGHT: bold
}
H3 {
	TEXT-ALIGN: left; FONT-FAMILY: Arial, Tahoma; FONT-SIZE: 12pt; FONT-WEIGHT: bold
}
TABLE {
	FONT-SIZE: x-small
}
TABLE .Programtext {
	PADDING-BOTTOM: 10px; BACKGROUND-COLOR: #f0f0f0; PADDING-LEFT: 10px; PADDING-RIGHT: 10px; COLOR: #0000ff; PADDING-TOP: 10px
}
BODY {
	FONT-FAMILY: Verdana; FONT-SIZE: x-small
}
.withBorder {
	TEXT-ALIGN: left; FONT-FAMILY: Verdana; FONT-SIZE: x-small; BORDER-TOP: #ffd700 1px solid; BORDER-RIGHT: #ffd700 1px solid
}
.withBorder TD {
	BORDER-BOTTOM: #ffd700 1px solid; BORDER-LEFT: #ffd700 1px solid
}
.withBorder TH {
	BORDER-BOTTOM: #ffd700 1px solid; BORDER-LEFT: #ffd700 1px solid; BACKGROUND-COLOR: #ffffee
}
UL.TOC LI {
	LIST-STYLE-TYPE: none
}
.Programtext {
	FONT-FAMILY: Courier; COLOR: #000080; FONT-SIZE: 10pt
}
PRE.Query {
	FONT-FAMILY: Courier; COLOR: #000080; FONT-SIZE: 10pt
}
PRE.xml {
	FONT-FAMILY: Courier; COLOR: #000080; FONT-SIZE: 10pt
}
PRE.vbcode {
	FONT-FAMILY: Courier; COLOR: #000080; FONT-SIZE: 10pt
}
PRE {
	FONT-SIZE: 10pt
}
.Marker {
	BACKGROUND-COLOR: #ffff00
}
.heading {
	BORDER-BOTTOM: #ffd700 1px solid; BORDER-LEFT: #ffd700 1px solid; BACKGROUND-COLOR: #ffffee; FONT-WEIGHT: bold
}
.tip {
	PADDING-BOTTOM: 15px; BORDER-RIGHT-WIDTH: 0px; BACKGROUND-COLOR: #eeffee; PADDING-LEFT: 15px; WIDTH: 95%; PADDING-RIGHT: 15px; BORDER-TOP-WIDTH: 0px; BORDER-BOTTOM-WIDTH: 0px; BORDER-LEFT-WIDTH: 0px; PADDING-TOP: 15px
}
.tip TD {
	PADDING-BOTTOM: 15px; BORDER-RIGHT-WIDTH: 0px; BACKGROUND-COLOR: #eeffee; PADDING-LEFT: 15px; WIDTH: 95%; PADDING-RIGHT: 15px; BORDER-TOP-WIDTH: 0px; BORDER-BOTTOM-WIDTH: 0px; BORDER-LEFT-WIDTH: 0px; PADDING-TOP: 15px
}
.important {
	PADDING-BOTTOM: 15px; BORDER-RIGHT-WIDTH: 0px; BACKGROUND-COLOR: #ffeeee; PADDING-LEFT: 15px; WIDTH: 95%; PADDING-RIGHT: 15px; BORDER-TOP-WIDTH: 0px; BORDER-BOTTOM-WIDTH: 0px; BORDER-LEFT-WIDTH: 0px; PADDING-TOP: 15px
}
.important TD {
	PADDING-BOTTOM: 15px; BORDER-RIGHT-WIDTH: 0px; BACKGROUND-COLOR: #ffeeee; PADDING-LEFT: 15px; WIDTH: 95%; PADDING-RIGHT: 15px; BORDER-TOP-WIDTH: 0px; BORDER-BOTTOM-WIDTH: 0px; BORDER-LEFT-WIDTH: 0px; PADDING-TOP: 15px
}
.note {
	PADDING-BOTTOM: 15px; BORDER-RIGHT-WIDTH: 0px; BACKGROUND-COLOR: #eeeeff; PADDING-LEFT: 15px; WIDTH: 95%; PADDING-RIGHT: 15px; BORDER-TOP-WIDTH: 0px; BORDER-BOTTOM-WIDTH: 0px; BORDER-LEFT-WIDTH: 0px; PADDING-TOP: 15px
}
.note TD {
	PADDING-BOTTOM: 15px; BORDER-RIGHT-WIDTH: 0px; BACKGROUND-COLOR: #eeeeff; PADDING-LEFT: 15px; WIDTH: 95%; PADDING-RIGHT: 15px; BORDER-TOP-WIDTH: 0px; BORDER-BOTTOM-WIDTH: 0px; BORDER-LEFT-WIDTH: 0px; PADDING-TOP: 15px
}
.k {
	COLOR: red
}
.c {
	COLOR: green
}
.s {
	COLOR: black
}
.n {
	COLOR: black
}
.p {
	COLOR: brown
}
OL LI {
	MARGIN-BOTTOM: 12pt
}
</style></head><body>
<div align="left"><nobr>  </nobr></div>
<h2>Создание правил выгрузки данных</h2>
<p><span lang="ru">Для выгрузки данных недостаточно установить соответствия объектов и реквизитов источника и приемника. Нужно еще указать какие именно объекты и как выгружать. Для этого необходимо создать правила выгрузки данных. </span>У нас готовы все необходимы правила конвертации объектов, свойств и значений. Практически все уже сделано, осталось только указать какие именно объекты мы хотим переносить из информационной базы источника в приемник. На первый взгляд постановка вопроса очень странная, естественно, мы хотим переносить все объекты для которых у нас заданы правила конвертации объектов!? Но это не совсем верный ответ. При обмене данными всегда ставится задача обмена конкретными объектами. Кроме того, существуют служебные объекты, о которых пользователи не догадываются, да и не должны знать.</p>
<p>Правила выгрузки данными указывают какие объекты разрешить пользователю для выгрузки.</p>
<p>Проще всего объяснить это на конкретном примере. Сформулируем задачу: Имеются две однотипные конфигурации "Бухгалтерия предприятия". Необходимо из одной конфигурации в другую загрузить справочник "Номенклатура".</p>
<p>Покажем последовательность действий в этом случае:</p>
<p>1. Создаем новое правило обмена данными</p>
<p><img alt="Создание нового правила обмена" src="_files/15.bmp"></img></p>
<p>2. В появившемся окне сообщения указываем, что хотим самостоятельно создать новое правило конвертации объектов:</p>
<p><img alt="Выбор действия пользователя" src="_files/16.bmp" width="376" height="160"></img></p>
<p>3. Указываем объект источник и приемник:</p>
<p><img alt="Выбор объекта источника и приемника для правила конвертации объектов" src="_files/17.bmp" width="536" height="516"></img></p>
<p>4. Согласимся с предложением программы автоматически создать правила конвертации свойств и значений (можно заметить, что автоматически были созданы еще правила конвертации объектов, они как раз нужны для того что бы переносить объекты не примитивных типов справочника "Номенклатуры". Посмотрите, что программа создала несколько правил конвертации объектов. Эти правила созданы не случайно!). После чего программа предложит нам автоматически создать правила выгрузки данных. Выберем, что бы программа создала правило выгрузки данных только для <span style="FONT-FAMILY: Verdana; FONT-SIZE: 10pt; mso-fareast-font-family: 'Times New Roman'; mso-bidi-font-family: 'Times New Roman'; mso-ansi-language: RU; mso-fareast-language: RU; mso-bidi-language: AR-SA">номенклатуры</span>:</p>
<p><img alt="Создание правила выгрузки данных" src="_files/171.bmp" width="507" height="424"></img></p>
<p>5. Если перейти на закладку "Правила выгрузки данных", то увидим что создано всего лишь одно правило выгрузки. То есть мы сообщили программе, что при выгрузке данных нужно выгружать только объекты справочника "Номенклатура" (плюс ко всему будут выгружены так же те объекты на которые элементы справочника "Номенклатура" ссылаются):</p>
<p><img alt="Просмотр правил выгрузки" src="_files/172.bmp" width="701" height="399"></img></p>
<p>6. Правила полностью готовы к использованию. Сохраним их в файл:</p>
<p><img alt="Сохранение правил обмена в файл" src="_files/173.bmp" width="698" height="528"></img></p>
<p>7. Откроем программу "Бухгалтерия предприятия" откроме универсальную обработку выгрузки и загрузки данных из XML и загрузим правила обмена:</p>
<p><img alt="Обработка выгрузки и загрузки данных" src="_files/18.bmp"></img></p>
<p>В списке объектов для выгрузки присутствует только справочник "Номенклатура". Собственно в этом списке будет присутствовать только список объектов, которые заданы в правилах выгрузки (по сути правила выгрузки именно это и определяют. Пользователю не показывается лишняя информация о связанных объектах, которые так же подлежат выгрузке). Далее, пользователь может указать дополнительные ограничения для выгрузки данных и выгрузить данные в файл.</p>
<p>8. После того как файл с данными был выгружен остается только загрузить эти данные в информационной базе - приемнике:</p>
<p><img alt="Загрузка данных" src="_files/191.bmp" width="693" height="470"></img></p>
<p> </p>
<p><strong>Внимание</strong></p>
<p>Для ускорения выгрузки данных рекомендуется располагать правила выгрузки в таком порядке, что бы, если есть зависимые правила, то все ссылки были снизу вверх. То есть, в начале списка выгружаемых данных необходимо располагать объекты, которые ни на кого не ссылаются (Например, если справочник Пользователи ссылается на справочник Физические Лица, то рекомендуемый порядок выгрузки данных Физические Лица, Пользователи). Такой способ расположения объектов может существенно сказаться на скорости выгрузки данных.</p>
<p>Если в правиле конвертации объектов нет конвертации табличных частей или движений и в событиях перед выгрузкой данных нет обращений к самому выгружаемому объекту, то имеет смысл установить у правила Выгрузки данных Флажок "Выбирать данные для выгрузки одним запросом". Такой подход позволит при выгрузке данных одним запросом получить все данные, которые нужно выгружать и это может заметно сократить время выгрузки.</p>
<p>Эти достаточно простые оптимизации позволяют сократить время выгрузки данных на 30-40% и более.</p>
<p><a title="" href="DataProcessor.БыстроеОсвоение.Template.ПравилаОчисткиДанных/Template">Следующий раздел: «Правила очистки данных»</a></p></body></html>